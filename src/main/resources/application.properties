spring.application.name=ApiProj

# 서버 포트 설정 (Render는 PORT 환경 변수를 자동 설정)
server.port=${PORT:8080}

# 데이터베이스 설정 (환경 변수로 오버라이드 가능)
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.mariadb.jdbc.Driver}
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mariadb://localhost:3306/allDB}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:1234}

# MyBatis 설정
# Mapper XML 위치
mybatis.mapper-locations=classpath:mapper/*.xml

# DTO 패키지 (type alias) - union.dto는 제외 (ItemDetail 중복 방지)
# union.dto.ItemDetail과 item.dto.ItemDetail이 충돌하므로 union.dto는 제외
mybatis.type-aliases-package=com.api.item.dto,com.api.member.dto,com.api.board.domain,com.api.payment.domain,com.api.favorite.domain,com.api.admin.domain

# MyBatis 설정 (카멜케이스 변환 등)
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.default-fetch-size=100
mybatis.configuration.default-statement-timeout=30

# 로깅 설정 (SQL 쿼리 로그 확인용)
logging.level.com.api.item.mapper=DEBUG
logging.level.com.api.member.mapper=DEBUG
logging.level.com.api.board.mapper=DEBUG
logging.level.com.api.payment.mapper=DEBUG
logging.level.com.api.favorite.mapper=DEBUG

# 온비드 API 서비스 키 (환경 변수로 오버라이드 가능)
onbid.serviceKey=${ONBID_SERVICE_KEY:4a9c9dde8ae2c662f5d7bc484c937ff43129743101222fe93d3a54bc264377e8}

# 아임포트 결제 설정 (환경 변수로 오버라이드 가능)
iamport.imp.code=${IAMPORT_IMP_CODE:imp00000000}
iamport.api.key=${IAMPORT_API_KEY:test_api_key}
iamport.api.secret=${IAMPORT_API_SECRET:test_api_secret}
iamport.callback.url=${IAMPORT_CALLBACK_URL:http://localhost:8080/payment/callback}

# 메일 설정 (가격 알림 기능 사용 시 필요)
# Gmail 사용 예시:
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true
#
# 메일 기능을 사용하지 않으려면 PriceAlertService에서 mailSender를 Optional로 변경하세요
